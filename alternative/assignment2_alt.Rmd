---
title: "assignment2_alt"
output: html_document
---
## Load Libraries
```{r}
library(ggplot2)
library(sf)
library(tidyverse)
library(tidycensus)
library(sp)
library(units)
library(here)
```

## Bringing in GeoJson data to determine MF zoning

###Arvada
``` {r}
arvada_zoning <- here("city_zoning/Arvada/arvada_zoning.geojson") %>%
   st_read()

```
#### Arvada MF filter
``` {r}
arvada_mf_R6 <- arvada_zoning %>%
  filter(ZONING == "R6")%>%
  st_transform(crs = st_crs(tracts2019))

arvada_mf_R13 <- arvada_zoning %>%
  filter(ZONING == "R13")%>%
  st_transform(crs = st_crs(tracts2019))

arvada_mf_R24 <-arvada_zoning %>%
  filter(ZONING == "R24")%>%
  st_transform(crs = st_crs(tracts2019))
```

##### Arvada Tract Overlay
```{r}
arvada_tracts_R6 <- tracts2019[arvada_mf_R6,]
arvada_tracts_R13 <- tracts2019[arvada_mf_R13,]
arvada_tracts_R24 <- tracts2019[arvada_mf_R24,]
```

### Aurora 
``` {r}
aurora_zoning <- here("city_zoning/Aurora/aurora_zoning.geojson") %>%
   st_read()

```
#### Aurora MF filter
``` {r}
aurora_mf_R3 <- aurora_zoning %>%
  filter(DISTRICT_ID == "R-3") %>%
  st_transform(crs = st_crs(tracts2019))

aurora_mf_R4 <- aurora_zoning %>%
  filter(DISTRICT_ID == "R-4") %>%
  st_transform(crs = st_crs(tracts2019))

```

##### Aurora Tract Overlay
```{r}
aurora_tracts_R3 <- tracts2019[aurora_mf_R3,]
aurora_tracts_R4 <- tracts2019[aurora_mf_R4,]
```

### Centennial 
``` {r}
centennial_zoning <- here("city_zoning/Centennial/centennial_zoning.geojson") %>%
   st_read()

```
#### Centennial MF filter
``` {r}
centennial_mf <- centennial_zoning %>%
  filter(ZONECLASS == "RU") %>%
  st_transform(crs = st_crs(tracts2019))
```

##### Centennial Tract Overlay
```{r}
centennial_tracts <- tracts2019[centennial_mf,]
```

### Thornton 
``` {r}
thornton_zoning <- here("city_zoning/Thornton/thornton_zoning.geojson") %>%
   st_read()

```
#### Thornton MF filter
``` {r}
thornton_mf <- thornton_zoning %>%
  filter(DISTRICT == "MF") %>%
  st_transform(crs = st_crs(tracts2019))
```

##### Thornton Tract Overlay
```{r}
thornton_tracts <- tracts2019[thornton_mf,]
```

### Westminster 
``` {r}
westminster_zoning <- here("city_zoning/Westminster/westminster_zoning.geojson") %>%
   st_read()

```
#### Westminster MF filter
``` {r}
westminster_mf <- westminster_zoning %>%
  filter(ZONECODE == c("R-3", "R-4")) %>%
  st_transform(crs = st_crs(tracts2019))
```

##### Westminster Tract Overlay
```{r}
westminster_tracts <- tracts2019[westminster_mf,]
```

### Denver 
``` {r}
denver_zoning <- here("city_zoning/denver/denver_zoning/zoning.shp") %>%
   st_read()

```
#### Denver MF filter
``` {r}
denver_3 <- denver_zoning %>%
  filter(ZONE_DIS_1 == c("S-MU-3", "G-MU-3")) %>%
  st_transform(crs = st_crs(tracts2019))

denver_5 <- denver_zoning %>%
  filter(ZONE_DIS_1 == c("S-MU-5", "G-MU-5")) %>%
  st_transform(crs = st_crs(tracts2019))

denver_8 <- denver_zoning %>%
  filter(ZONE_DIS_1 == c("S-MU-8", "G-MU-8")) %>%
  st_transform(crs = st_crs(tracts2019))

denver_12 <- denver_zoning %>%
  filter(ZONE_DIS_1 == c("S-MU-12", "G-MU-12")) %>%
  st_transform(crs = st_crs(tracts2019))

denver_20 <- denver_zoning %>%
  filter(ZONE_DIS_1 == c("S-MU-20", "G-MU-20")) %>%
  st_transform(crs = st_crs(tracts2019))

denver_2.5 <- denver_zoning %>%
  filter(ZONE_DIS_1 == "E-MU-2.5") %>%
  st_transform(crs = st_crs(tracts2019))
```

##### Denver Tract Overlay
```{r}
denver_tracts_3 <- tracts2019[denver_3,]

denver_tracts_5 <- tracts2019[denver_5,]

denver_tracts_8 <- tracts2019[denver_8,]

denver_tracts_12 <- tracts2019[denver_12,]

denver_tracts_20 <- tracts2019[denver_20,]

denver_tracts_2.5 <- tracts2019[denver_2.5,]
```

##Bringing Data to Excel
###Arvada
``` {r}
write_csv(arvada_tracts_R6, "data/tract_arvada6.csv", append = FALSE)
write_csv(arvada_tracts_R13, "data/tract_arvada13.csv", append = FALSE)
write_csv(arvada_tracts_R24, "data/tract_arvada24.csv", append = FALSE)

```

###Aurora
``` {r}
write_csv(aurora_tracts_R3, "data/tract_aurora3.csv", append = FALSE)
write_csv(aurora_tracts_R4, "data/tract_aurora4.csv", append = FALSE)

```

###Centennial
``` {r}
write_csv(centennial_tracts, "data/tract_centennial.csv", append = FALSE)

```

###Thornton
``` {r}
write_csv(thornton_tracts, "data/tract_thornton.csv", append = FALSE)

```

###Westminster
``` {r}
write_csv(westminster_tracts, "data/tract_westminster.csv", append = FALSE)

```

###Denver
```{r}
write_csv(denver_tracts_3, "data/tract_denver3.csv", append = FALSE)
write_csv(denver_tracts_5, "data/tract_denver5.csv", append = FALSE)
write_csv(denver_tracts_8, "data/tract_denver8.csv", append = FALSE)
write_csv(denver_tracts_12, "data/tract_denver12.csv", append = FALSE)
write_csv(denver_tracts_20, "data/tract_denver20.csv", append = FALSE)
write_csv(denver_tracts_2.5, "data/tract_denver2.5.csv", append = FALSE)
```
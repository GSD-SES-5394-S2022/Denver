---
title: "OpenStreetMap"
author: "Miguel Perez Luna"
date: "2/17/2022"
output: html_document
---
```{r}
library(sf)
library(tigris)
library(tidyverse)
library(osmdata)
library(here)
library(tidytransit)
```

# Downloading the OpenStreetMap Network for the Denver MSA

```{r}
# Load the MSA boundaries
boundary <- core_based_statistical_areas() %>%
  filter(GEOID == "19740")

# Define a bounding box containing the MSA
denver_bbox <- st_bbox(boundary)

q <- opq(bbox = denver_bbox) %>% # create a query
  add_osm_feature(key = 'highway') %>% # request only road data
  osmdata_xml(file = here("existing/networks/streets.osm")) # download osm file
```

# Convert the OSM file to a PBF file

We did this using Homebrew, in the Mac Terminal, and with Arnav's help.

# Downloading GTFS Data

We used rtidy transit and view(feedlist) to find the url for the Denver GTFS data.